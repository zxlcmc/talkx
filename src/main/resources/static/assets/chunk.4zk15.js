var T=Object.defineProperty,V=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var C=(a,e,t)=>e in a?T(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,k=(a,e)=>{for(var t in e||(e={}))A.call(e,t)&&C(a,t,e[t]);if(g)for(var t of g(e))D.call(e,t)&&C(a,t,e[t]);return a},I=(a,e)=>V(a,z(e));var y=(a,e,t)=>new Promise((u,o)=>{var f=n=>{try{r(t.next(n))}catch(c){o(c)}},p=n=>{try{r(t.throw(n))}catch(c){o(c)}},r=n=>n.done?u(n.value):Promise.resolve(n.value).then(f,p);r((t=t.apply(a,e)).next())});import{_ as j}from"./chunk.4zk21.js";import{I as E}from"./chunk.4zk22.js";import{_ as F,h as G,j as L,k as P,l as U,m as H,g as _,c as J,q as K,o as h,a as w,e as i,A as x,f as m,C as O,v as d,D as N,d as Q,z as S,cN as W,ae as X,a9 as Y}from"./bundle.0.0.2.js?v=0.6036900755232442";import{i as Z}from"./chunk.4zk24.js";import"./chunk.4zk52.js";import{I as $}from"./chunk.4zk51.js";import{N as ee}from"./chunk.4zk31.js";import"./chunk.4zk39.js";const te={class:"invite tpage"},se={class:"row"},ae={class:"row_title"},oe={key:0,class:"info"},ne={class:"text"},re={__name:"index",setup(a){const e=G(),t=L(),u=P();U(),H();const o=_(""),f=_(""),p=_(!1),r=_(null),n=J(()=>e.query.phone),c=()=>y(this,null,function*(){p.value=!0;const{err:l,errMsg:s}=yield Y(n.value);if(l)return u.error(s);u.success("验证码发送成功"),p.value=!1});K(()=>{r.value&&r.value.focus(),e.query.inviteCode&&(o.value=e.query.inviteCode)});const b=(l=o.value)=>!0,q=l=>(b(l),!0);let v=!1;const B=()=>y(this,null,function*(){if(!v){if(v=!0,o.value){const{exist:l,errMsg:s}=yield W({inviteCode:o.value});if(s)return v=!1,u.error(s);if(!l)return v=!1,u.error("邀请码无效")}yield c(),t.push({name:"verify",query:{phone:n.value,inviteCode:o.value}}),v=!1}}),M=()=>{t.back()};return(l,s)=>(h(),w("div",te,[s[2]||(s[2]=i("img",{class:"logo",src:j,alt:""},null,-1)),s[3]||(s[3]=i("div",{class:"title"},"邀请注册免费获得蒜粒",-1)),i("div",se,[i("div",ae,"为新用户 "+x(n.value)+" 填写邀请码，可以获得一定数量蒜粒。蒜粒可用于高级模型如 GPT-4。",1),m(d(ee),{ref_key:"inputRef",ref:r,value:o.value,"onUpdate:value":s[0]||(s[0]=R=>o.value=R),style:O(I(k({},d(Z)),{textAlign:"center"})),type:"phone",placeholder:"","allow-input":q},null,8,["value","style"]),f.value?(h(),w("div",oe,[m(d(E),{size:"20",style:{"vertical-align":"sub"}},{default:N(()=>[m(d($))]),_:1}),i("span",ne,x(f.value),1)])):Q("",!0)]),m(d(X),{block:"",type:"info",class:"btn",onClick:B},{default:N(()=>[S(x(o.value?"继续":"不填写邀请码，直接注册"),1)]),_:1}),i("div",{class:"tips"},[s[1]||(s[1]=S("你还可以 ")),i("span",{class:"text",onClick:M},"返回上一页")])]))}},me=F(re,[["__scopeId","data-v-f1077fa9"]]);export{me as default};
